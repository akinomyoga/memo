<!DOCTYPE html>
<html>
<head>
  <title>Git のちゃんとした入門</title>
  <link rel="stylesheet" type="text/css" charset="utf-8" href="memo.css" />
</head>
<body class="mwg-standard-layout">
<nav>
  [
    <a href="index.html">Top</a> -
    <span class="mwg-nav-here">Git</span>
  ]
</nav>
<h1>Git のちゃんとした入門 (になる筈だったページ)</h1>

<h2>前書き</h2>
<p>Git はなかなか入門障壁が高い。原因の一つはその辺の解説サイトだと思っている。
  世の中には解説サイトが色々あるけれども、下手に喩えを使っていたり微妙に概念を隠蔽したりしていて、結局何がどうなっているのか腑に落ちてこないサイトが殆どである。
  有名どころでは「サルでもわかるGit入門」というページがある。
  このサイトは取り敢えず何も理解せずに盲目的に使うだけならば良いのだが、Git についてほとんど理解を得られない。
  例えば、学生に「Git を勉強しておいて欲しい」というと大体このサイトに辿り着いて読んでくるようだが、
  どれくらい理解しているか確認すると <q>Git はリモート・リポジトリが存在しないと使えないものである</q> と勘違いしていたり、
  <q>Git とは GitHub にアクセスするためのツールのようで実は違うらしい良くわからない何かである</q> という曖昧模糊たる理解だったり、
  それどころかそもそも Git の何たるかを全く理解できていなかったりする。
  検索の上の方に来る他の入門サイトも似たり寄ったりである。
  そんな次第で、結局学生には Web で読んでもらった内容は一旦全部忘れてもらって、自ら一つずつ Git の何たるかを説く羽目になる。
  最近では寧ろその辺のページは分かりにくいから読まなくて良いとさえ言っている。
</p>

<p>何か良いサイトがあればそれを学生に教えれば良いのだが、なかなかない。
  結構良さそうだなと思う解説サイトも幾らかあるが、(これは自分が我儘だからというのもあるのだが) なんとなく不満を感じる。
  唯一素晴らしいと感じられるのは Git の公式に置いてある以下のページである。PDF 版も置いてある。
  これの唯一つの難点は長いということである。538 ページある。
  それでも、長い翻訳文を読むのは苦じゃないよという人はこれを二三日かけて読めばとても良いと思う。
</p>
<ul>
<li><a href="https://git-scm.com/book/ja/v2">Git - Book</a> - 公式の解説ページ</li>
</ul>
<p>他に、出版されている書籍であれば流石にちゃんとしているのだとは予想するのだが、読んでいないので分からない。申し訳ない。
  それに、Git の使い方なんていうものは研究のほんの (感覚) 1% にも満たないので、わざわざ本を買えとも言いづらい。他に買うべき本が沢山ある。
  それでも、お金を出す気があるならば、Git の良さそうな書籍を見繕って買うという選択肢は考えて良い。
</p>

<p>そういう訳で、上に紹介した長い解説ページ (や書籍) と巷の分かりにくいページの間に横たわる大きな隔たりを埋める形で、
  ここではできるだけコンパクトに、それでいて本質を逸しないような Git の解説記事を書きたいと思うのである。
  ちゃんと書くことができるかは分からないが、まあ、巷の分かりにくい Git 入門ページが存在を許されているのだから、多少駄目なものになったとしても良かろう。
  後、別に僕は Git の専門家でもなんでもないので間違ったことがあったら Twitter か何かで教えてくれると助かる。
  それから、ここまで読んでもらって既にお察しのことと思うが、結構文章文章した解説ページになると思う。
  文章の方が分かりやすいと思う人・文章が苦手な人など色々いるので、万人向けに書くのは無理である。
  自分は文章の方が分かりやすいので、こういう記事を書く。
  文章が苦手な人向けの記事は、また誰か別の人がどんどん書いてくれたらいいなと思っている。
</p>

<h2>前提知識</h2>
<p>基本的な CLI (コマンドラインインターフェイス・特に Unix シェル) での操作の知識は前提とする。
  世の中には GUI を通して Git を間接的に操作してくれるソフトウェアが色々あるようだが、そういったものの解説はしない。
  Git は、その本来のインターフェイスである CLI や内部構造に大分引きずられたデザインになっている。
  特に、或る程度の内部構造について分からないと Git を理解できた気にならないと思う。
  その点になると、GUI を通した間接的な操作では隔靴掻痒の感が拭えず (個人的に) 気分が悪い。
  また GUI クライアントは沢山あってどれか一つ選ぶのも難しいし、流行り廃りがあるのですぐ陳腐化しよう。
  従って、この記事では CLI での Git の操作方法を、
  内部的な状態を「変更」する操作だけでなく、
  内部的な状態を「取得」する操作も強調して紹介して行けたらいいなと思っている。
</p>

<p>また、Git のインストールの方法についても説明しない。
  環境によって色々だろうし、インストールぐらいであればどのサイトでも分かりやすさは大差ない。
  なので、分からなければ適当に他のサイトを参考にして入れてくれれば良い。
  因みに、もしパッケージシステムがある環境であれば、大抵「git」という名前のパッケージがある筈なので単にそれを入れれば良い。
  その結果、シェルで <code>git</code> というコマンドが見つかれば、Git は入っている。
</p>

<p>あとはできるだけ Git に関する知識が皆無でも大丈夫なように説明したい。
  なので、或る程度他のサイトで勉強した人にとってみれば、だるい説明が続くかもしれず申し訳ないが、我慢して欲しい。
</p>

<h2>1. 基本概念 ～最低限必要なこと～</h2>
<p>ここでは最低限必要なこととして、Git がどんな物なのかについてと、
  作業ツリー (working tree)・インデックス (index)・コミット (commit) について説明することにする。
  他にも様々な便利な概念・機能はあるが、それらは必要になった時に個別に知れば問題ない。
  例えば、その辺のサイトでローカルリポジトリ・リモートリポジトリのような単語を見たことがあるかもしれない。
  Git を活用する上でこれらの機能は大変に便利であるが、正直 Git の構造的に言えばこれらはおまけのような物である。
  Git による管理はローカル・リモートなどなくても独立に成立するものである。
  なので、初めはこれらの機能は知らなくて良い。
</p>

<h3>1.1 Git はバージョン管理システム</h3>

<p><dfn>Git</dfn> (ギット) は<dfn>バージョン管理システム</dfn> (VCS, version control system) ソフトウェアの一つである。
  取り敢えず <em>VCS とは "ファイルたちの過去の変更履歴を管理する枠組み" のことだ</em> ぐらいの理解で良い。
  ブラウザに Google Chrome や Mozilla Firefox や Microsoft Edge など色々あるように、
  VCS にも Git の他に Subversion (SVN) や CVS や Mercurial など色々ある。
  中でも Git は<dfn>分散型</dfn>と呼ばれる種類の VCS だが、これは他の VCS との比較論の話であって Git を理解する上では完全に蛇足なので、説明しない。
  取り敢えず――ここのところ Git は VCS の中でも一番人気であり、Linux カーネルの開発に始まり多くのプロジェクトで採用されている――とか何とか、決まり文句を書いておく。
</p>

<p>VCS を使うことの利点は何だろう。これは使ったことのない人に本当の意味で理解してもらうのは不可能である。
  そして、使えば分かる。なので「何も考えず使え」と書くのが恐らく一番正しい解説である。
  それでも筆が寂しいので何か書く。プログラムを書いていると遭遇する色々のトラブルたち
</p>
<ul>
<li>「前は正しく動いていたのに、プログラムに変更を加えたら動かなくなった」</li>
<li>「前のバージョンにおける計算結果を再度確認したい」</li>
<li>「各バージョンをバックアップしていたら、どれが何だったのか分からなくなった」</li>
<li>「プログラムの亜種がたくさんできて収集がつかなくなった」</li>
</ul>
<p>に見舞われた時に、気持ちよく始末をつけられるのが VCS の意義である。後は使えば分かる。</p>

<p>さて、いきなり "VCS は過去の履歴を管理する" と言われても具体的にどういう手順で何をどうするのか要領を得ない筈だ。
  それで良いのである。結論から書くと、なにか一つ筋の通った論理だとか手順だとか、そんなものは VCS には存在しない<sup>※1</sup>。
  <em>VCS の実態は、履歴に関係した雑多な操作の集合に過ぎない</em>のである。
  なので、一つ一つの操作について何をしているのか理解すれば良い。
  その後で雑多の操作を好きに組み合わせれば良い。
  自ずと流れっぽいものはできたりするが、それは別に固定的なものではない。
</p>

<p class="mwg-footnote">※1 世の中では<dfn>○○フロー</dfn>などの名前で Git の使い方の手順を定めていたりするが、取り敢えず気にしなくて良い。
  あれらは「Git の使い方」というよりは Git による「人のこき使い方」を定めた人と人の間の決めごとなので、Git 自体の理解にはまるで役に立たない。
  Git を理解した後で、人をこき使いたい、もしくは、こき使われたいときに参考すれば良い。
</p>

<p>Git では <code>git</code> という名前のコマンドを使う。
  「VCS は雑多な操作の集合」と書いたが、Git では
</p>
<pre>
$ git 機能名 引数...
</pre>
<p>という形式で雑多な機能を呼び出す。基本的には全てこの形式のコマンドで操作する。
  ここで <q>後はそれぞれの機能について一つ一つ知っていけば良い</q> と書きたい所だが、
  その前に、最低限、<em>操作の対象が何なのか</em>については理解しておかなくちゃならない。
  取り敢えず、リポジトリ (repository)・作業ツリー (working tree)・インデックス (index)・コミット (commit) を知ってもらえれば良さそうである。
  これらの登場人物を理解するためには、「手動でバージョン管理」することを考えるのが手っ取り早いと思うので、次の節でそれをやってみる。
</p>

<h3>1.2 手動バージョン管理</h3>

</body>
</html>
